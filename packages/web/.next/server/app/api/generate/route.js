"use strict";(()=>{var e={};e.id=290,e.ids=[290],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9491:e=>{e.exports=require("assert")},4300:e=>{e.exports=require("buffer")},2081:e=>{e.exports=require("child_process")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},7147:e=>{e.exports=require("fs")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},2037:e=>{e.exports=require("os")},1017:e=>{e.exports=require("path")},3477:e=>{e.exports=require("querystring")},4521:e=>{e.exports=require("readline")},7310:e=>{e.exports=require("url")},3849:e=>{e.exports=require("util")},9796:e=>{e.exports=require("zlib")},7457:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>f,originalPathname:()=>j,patchFetch:()=>w,requestAsyncStorage:()=>q,routeModule:()=>h,serverHooks:()=>y,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>v});var s={};r.r(s),r.d(s,{POST:()=>x,runtime:()=>g});var a=r(2390),n=r(1498),i=r(9308),o=r(7024),u=r(6590),p=r(112),c=r(2261),l=r(451),d=r.n(l);let g="nodejs";async function x(e){try{let t=await (0,u.getServerSession)(p.authOptions);if(!t?.accessToken)return o.Z.json({error:"Unauthorized. Please sign in with Google."},{status:401});let{description:r}=await e.json();if(!r)return o.Z.json({error:"Description is required"},{status:400});let s=new TextEncoder,a=new ReadableStream({async start(e){let a=t=>{e.enqueue(s.encode(JSON.stringify(t)+"\n"))};try{let s=new(d()),n=new c.Jarvis(s),i={accessToken:t.accessToken};a({type:"status",message:"\uD83E\uDDE0 Thinking..."});let o=await n.createPlan(r,i);a({type:"plan",data:o}),a({type:"status",message:"\uD83D\uDE80 Building..."}),await n.generate(o,i),a({type:"files",data:s.getFiles()}),a({type:"status",message:"âœ… Done!"}),e.close()}catch(t){a({type:"error",message:t.message}),e.close()}}});return new o.Z(a,{headers:{"Content-Type":"application/x-ndjson","Cache-Control":"no-cache"}})}catch(e){return o.Z.json({error:e.message},{status:500})}}let h=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/generate/route",pathname:"/api/generate",filename:"route",bundlePath:"app/api/generate/route"},resolvedPagePath:"D:\\Project1\\Jarvis-AI-Assistant-main\\packages\\web\\src\\app\\api\\generate\\route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:q,staticGenerationAsyncStorage:m,serverHooks:y,headerHooks:f,staticGenerationBailout:v}=h,j="/api/generate/route";function w(){return(0,i.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:m})}},451:e=>{class t{constructor(){this.files={}}ensureDir(e){return Promise.resolve()}saveFile(e,t){let r=e.replace(/\\/g,"/");return this.files[r]=t,Promise.resolve()}getFiles(){return this.files}clear(){this.files={}}}e.exports=t}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[975,985,51,707],()=>r(7457));module.exports=s})();